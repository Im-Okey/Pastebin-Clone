{% extends 'blog/temps/base.html' %}
{% load static %}

{% block title %}{{post.title}}{% endblock %}

{% block head %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'css/post.css' %}">
    <script src="{% static 'js/password_modal.js' %}"></script>
{% endblock %}


{% block content %}
<input type="hidden" id="post-password" value="{{ post.password }}">

{% if requires_password %}
{% include 'blog/temps/post_password_modal.html' %}
{% endif %}

<main>
    <div class="main-container">
        <div id="post-content" class="left-block">
            <div class="post-preview">
                <div class="icon">
                    <img src="https://th.bing.com/th/id/OIP.oESypaPq8Yzj1DuqXK9VjQAAAA?rs=1&pid=ImgDetMain"
                         alt="{{ user.nickname }}" width="40" height="40">
                </div>
                <div class="info">
                    <span class="post-title">{{post.title}}</span>
                    <br>
                    <span class="post-meta">{{request.user.username}} | {{ post.get_formatted_created_at }} | Просмотров: {{post.views_count}} | Сохранений: 10</span>
                </div>
            </div>
            <div class="post-editor">
                <textarea placeholder="Введите текст поста..."></textarea>
            </div>
            <div class="post-metadata">
                <span class="categories">{{post.category}}</span> <br>
                <span class="tags">{{ post.tags.all|join:", " }}</span>
            </div>

            <div class="post-settings">
                <h3>Комментарии</h3>
                <ul class="comments-list">
                    <li>
                        <span>Пользователь 1</span>
                        <span>12.02.2023</span>
                        <p>Текст комментария 1</p>
                    </li>
                    <li>
                        <span>Пользователь 2</span>
                        <span>15.03.2023</span>
                        <p>Текст комментария 2</p>
                    </li>
                    <li>
                        <span>Пользователь 3</span>
                        <span>20.04.2023</span>
                        <p>Текст комментария 3</p>
                    </li>
                </ul>
                <form class="comment-form">
                    <textarea placeholder="Введите текст комментария..."></textarea>
                    <button type="submit">Отправить</button>
                </form>
            </div>
        </div>
        {% include 'blog/temps/popular_posts.html' %}
    </div>
</main>
{% endblock %}